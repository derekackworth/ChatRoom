(this.webpackJsonpchatroom=this.webpackJsonpchatroom||[]).push([[0],{102:function(e,a,t){e.exports=t(142)},135:function(e,a){},142:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(8),s=t.n(r),l=t(16),m=t(15),i=t(12),g=t(20),c=t(21),h=t(24),p=t(61),u=t.n(p),d=t(173),y=t(182),C=t(176),f=t(177),E=t(179),b=t(95),N=t(183),O=t(178),v=t(180),x=t(171),k=t(166),R=t(170),M=t(172),S=t(88),D=t.n(S),L=function(e){return o.a.createElement(k.a,{position:"static"},o.a.createElement(R.a,{color:"primary"},o.a.createElement(b.a,{variant:"h6",color:"inherit"},"Chat Room"),o.a.createElement("div",{style:{marginLeft:"auto"}},e.isLoggedIn&&o.a.createElement("span",null,o.a.createElement(x.a,{onClick:function(){return e.handleOpenChangeRoomDialog()},color:"inherit"},e.roomName),o.a.createElement(x.a,{onClick:function(){return e.handleLogout()},color:"inherit"},"Logout")),o.a.createElement(M.a,{onClick:function(){return e.handleOpenWhosOnlineDialog()}},o.a.createElement(D.a,{style:{color:"white",height:50,width:50}})))))},T=t(89),j=t.n(T),W=t(93),w=Object(W.a)({typography:{useNextVariants:!0},palette:{common:{black:"#000",white:"#fff"},background:{paper:"rgba(232, 234, 246, 1)",default:"rgba(197, 202, 233, 1)"},primary:{light:"rgba(92, 107, 192, 1)",main:"rgba(57, 73, 171, 1)",dark:"rgba(40, 53, 147, 1)",contrastText:"#fff"},secondary:{light:"rgba(171, 71, 188, 1)",main:"rgba(142, 36, 170, 1)",dark:"rgba(106, 27, 154, 1)",contrastText:"#fff"},error:{light:"rgba(239, 83, 80, 1)",main:"rgba(229, 57, 53, 1)",dark:"rgba(198, 40, 40, 1)",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}}}),P=(t(60),function(e){function a(){return Object(m.a)(this,a),Object(g.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(d.a,{theme:w},o.a.createElement(j.a,{color:this.props.color,style:{height:this.props.size,width:this.props.size}}))}}]),a}(o.a.PureComponent)),K=t(175),A=t(174),I=t(90),z=t.n(I),q=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(g.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).theme=Object(W.a)({typography:{useNextVariants:!0},palette:{primary:{main:t.props.user.color}}}),t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(d.a,{theme:this.theme},o.a.createElement(A.a,{ref:"user",style:{textAlign:"left",marginBottom:"2px"}},o.a.createElement(z.a,{color:"primary",style:{height:"30px",width:"30px",marginRight:"20px"}}),this.props.user.chatName," is in room: ",this.props.user.roomName))}}]),a}(o.a.Component),U=function(e){var a=e.users.reduce((function(a,t,n){return t.chatName!==e.chatName&&a.push(o.a.createElement(q,{key:n,user:t})),a}),[]);return o.a.createElement(K.a,null,a)},B=t(17),F=function(e){return!0===e.alignRight?o.a.createElement("div",{className:"bubble",style:{marginLeft:"auto",backgroundColor:e.message.color}},o.a.createElement("span",{style:{fontSize:"smaller"}},e.message.from,":"),o.a.createElement("span",{style:{fontSize:"smaller",float:"right"}},e.message.time),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",{style:{wordWrap:"break-word",fontWeight:"bold"}},e.message.text)):o.a.createElement("div",{className:"bubble",style:{marginLeft:0,backgroundColor:e.message.color}},o.a.createElement("span",{style:{fontSize:"smaller"}},e.message.from,":"),o.a.createElement("span",{style:{fontSize:"smaller",float:"right"}},e.message.time),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",{style:{wordWrap:"break-word",fontWeight:"bold"}},e.message.text))},V=function(e){return!0===e.alignRight?o.a.createElement("div",{style:{content:"",position:"absolute",bottom:"-18px",right:"50px",borderWidth:"10px 0px 0px 10px",borderStyle:"solid",borderColor:"".concat(e.color," transparent")}}):o.a.createElement("div",{style:{content:"",position:"absolute",bottom:"-18px",left:"50px",borderWidth:"10px 10px 0px 0px",borderStyle:"solid",borderColor:"".concat(e.color," transparent")}})},J=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(g.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).state={alignRight:!1},t.componentDidMount=function(){t.props.message.from===t.props.chatName&&t.setState({alignRight:!0});var e=s.a.findDOMNode(Object(B.a)(t));e.scrollIntoView({block:"end",behavior:"smooth"}),e.blur()},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.alignRight;return o.a.createElement("div",null,o.a.createElement(A.a,{ref:"message",style:{textAlign:"left",marginBottom:"5px"}},o.a.createElement(F,{message:this.props.message,alignRight:e}),o.a.createElement(V,{color:this.props.message.color,alignRight:e})),o.a.createElement("br",null))}}]),a}(o.a.Component),Y=function(e){var a=e.messages.map((function(a,t){return o.a.createElement(J,{key:t,message:a,chatName:e.chatName})}));return o.a.createElement(K.a,null,a)},G=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(g.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).state={socket:null,isLoggedIn:!1,rooms:[],chatName:"",chatNameMessage:"Enter a username",roomName:"",roomNameMessage:"Enter a room name",isWhosOnlineDialogOpen:!1,roomNameChange:"",roomNameChangeMessage:"Enter a room name",isChangeRoomDialogOpen:!1,sockets:[],messages:[],message:"",messageMessage:"",isTyping:!1},t.componentDidMount=function(){var e=u.a.connect();t.setState({socket:e}),e.on("rooms",t.onRooms),e.on("namechange",t.onNameChange),e.on("welcome",t.onWelcome),e.on("message",t.onMessage),e.on("whosonlinedialog",t.onWhosOnlineDialog),e.on("typing",t.onTyping),e.emit("rooms")},t.onRooms=function(e){t.setState({rooms:e})},t.onNameChange=function(e){t.setState({chatNameMessage:e})},t.onWelcome=function(e){t.onMessage(e),t.setState({isLoggedIn:!0})},t.onWhosOnlineDialog=function(e){t.setState({sockets:e})},t.onMessage=function(e){t.setState({messageMessage:"",isTyping:!1}),""!==t.state.message&&(t.setState({isTyping:!0}),t.state.socket.emit("typing")),t.setState((function(a){var t=Object(l.a)(a.messages);return t.push(e),{messages:t}}))},t.onTyping=function(e){t.setState({messageMessage:e})},t.handleNameChange=function(e){t.setState({chatName:e.target.value}),t.state.socket.emit("namechange",{chatName:e.target.value})},t.handleRoomChange=function(e){""!==e.target.value?t.setState({roomName:e.target.value,roomNameMessage:""}):t.setState({roomName:e.target.value,roomNameMessage:"Enter a room name"})},t.handleRoomChangeChange=function(e){e.target.value.toUpperCase()===t.state.roomName?t.setState({roomNameChange:e.target.value,roomNameChangeMessage:"You are already in this room"}):""!==e.target.value?t.setState({roomNameChange:e.target.value,roomNameChangeMessage:""}):t.setState({roomNameChange:e.target.value,roomNameChangeMessage:"Enter a room name"})},t.handleLoginKeyPress=function(e){13===e.charCode&&""===t.state.chatNameMessage&&""===t.state.roomNameMessage&&t.handleLogin()},t.handleLogin=function(){t.setState({roomName:t.state.roomName.toUpperCase()}),t.state.socket.emit("login",{chatName:t.state.chatName,roomName:t.state.roomName})},t.handleChangeRoomKeyPress=function(e){13===e.charCode&&""===t.state.roomNameChangeMessage&&t.handleChangeRoom()},t.handleChangeRoom=function(){t.setState({messages:[]}),t.state.socket.emit("changeroom",{roomNameChange:t.state.roomNameChange.toUpperCase()}),t.setState({roomName:t.state.roomNameChange.toUpperCase(),roomNameChange:"",roomNameChangeMessage:"Enter a room name",isChangeRoomDialogOpen:!1})},t.handleLogout=function(){t.state.socket.disconnect(),t.setState({isLoggedIn:!1,chatName:"",chatNameMessage:"Enter a username",roomName:"",roomNameMessage:"Enter a room name",roomNameChange:"",roomNameChangeMessage:"Enter a room name",messages:[],message:"",messageMessage:"",isTyping:!1});var e=u.a.connect("localhost:5000",{forceNew:!0});t.setState({socket:e}),e.on("rooms",t.onRooms),e.on("namechange",t.onNameChange),e.on("welcome",t.onWelcome),e.on("message",t.onMessage),e.on("whosonlinedialog",t.onWhosOnlineDialog),e.on("typing",t.onTyping),e.emit("rooms")},t.handleMessageChange=function(e){t.setState({message:e.target.value}),!1===t.state.isTyping&&(t.setState({isTyping:!0}),t.state.socket.emit("typing"))},t.handleSendMessage=function(e){"Enter"===e.key&&""!==t.state.message&&(t.state.socket.emit("message",{text:t.state.message}),t.setState({message:"",isTyping:!1}))},t.handleOpenChangeRoomDialog=function(){t.state.socket.emit("rooms"),t.setState({isChangeRoomDialogOpen:!0})},t.handleCloseChangeRoomDialog=function(){t.setState({roomNameChange:"",roomNameChangeMessage:"Enter a room name",isChangeRoomDialogOpen:!1})},t.handleOpenWhosOnlineDialog=function(){t.state.socket.emit("whosonlinedialog"),t.setState({isWhosOnlineDialogOpen:!0})},t.handleCloseWhosOnlineDialog=function(){t.setState({isWhosOnlineDialogOpen:!1})},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.isLoggedIn,t=e.rooms,n=e.chatName,r=e.chatNameMessage,s=e.roomName,l=e.roomNameMessage,m=e.isWhosOnlineDialogOpen,i=e.roomNameChange,g=e.roomNameChangeMessage,c=e.isChangeRoomDialogOpen,h=e.sockets,p=e.messages,u=e.message,k=e.messageMessage;return o.a.createElement(d.a,{theme:w},o.a.createElement(o.a.Fragment,null,o.a.createElement(L,{roomName:s,handleOpenChangeRoomDialog:this.handleOpenChangeRoomDialog,isLoggedIn:a,handleLogout:this.handleLogout,handleOpenWhosOnlineDialog:this.handleOpenWhosOnlineDialog}),o.a.createElement(y.a,{open:c,onClose:this.handleCloseChangeRoomDialog},o.a.createElement(C.a,{style:{textAlign:"center"}},"Change Room"),o.a.createElement(f.a,null,o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(E.a,{style:{marginTop:"15px"},onChange:this.handleRoomChangeChange,onKeyPress:this.handleChangeRoomKeyPress,placeholder:"Room Name",required:!0,value:i,inputProps:{maxLength:20},error:""!==g,helperText:g}),o.a.createElement(b.a,{style:{marginTop:"15px"},color:"primary"},"Existing rooms:"),o.a.createElement(N.a,{style:{alignContent:"center",marginTop:"5px"},onChange:this.handleRoomChangeChange,onKeyPress:this.handleChangeRoomKeyPress,value:i},t.map((function(e,a){return e!==s&&o.a.createElement(O.a,{key:a,value:e,control:o.a.createElement(v.a,{color:"primary"}),label:e})}))),o.a.createElement(x.a,{style:{marginTop:"15px"},onClick:this.handleChangeRoom,color:"primary",variant:"contained",disabled:""!==g},"Change Room")))),o.a.createElement(y.a,{open:m,onClose:this.handleCloseWhosOnlineDialog},o.a.createElement(C.a,{style:{textAlign:"center"}},'Who"s Online?'),o.a.createElement(f.a,null,o.a.createElement(U,{users:h,chatName:n}))),!a&&o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(P,{color:"primary",size:"100"}),o.a.createElement(b.a,{variant:"h4",color:"primary"},"Login"),o.a.createElement(E.a,{style:{marginTop:"30px"},onChange:this.handleNameChange,onKeyPress:this.handleLoginKeyPress,placeholder:"Chat Name",autoFocus:!0,required:!0,value:n,inputProps:{maxLength:20},error:""!==r,helperText:r}),o.a.createElement("br",null),o.a.createElement(E.a,{style:{marginTop:"15px"},onChange:this.handleRoomChange,onKeyPress:this.handleLoginKeyPress,placeholder:"Room Name",required:!0,value:s,inputProps:{maxLength:20},error:""!==l,helperText:l}),o.a.createElement(b.a,{style:{marginTop:"15px"},color:"primary"},"Existing rooms:"),o.a.createElement(N.a,{style:{alignContent:"center",marginTop:"5px"},onChange:this.handleRoomChange,onKeyPress:this.handleLoginKeyPress,value:s},t.map((function(e,a){return o.a.createElement(O.a,{key:a,value:e,control:o.a.createElement(v.a,{color:"primary"}),label:e})}))),o.a.createElement(x.a,{style:{marginTop:"15px"},onClick:this.handleLogin,color:"primary",variant:"contained",disabled:""!==r||""!==l},"Login")),a&&o.a.createElement("div",null,o.a.createElement("div",{className:"messageList"},o.a.createElement(Y,{messages:p,chatName:n})),o.a.createElement(E.a,{style:{position:"absolute",bottom:"10px",width:"calc(100% - 15px)"},onChange:this.handleMessageChange,onKeyPress:this.handleSendMessage,placeholder:"Message",autoFocus:!0,required:!0,value:u,helperText:k}))))}}]),a}(o.a.PureComponent);s.a.render(o.a.createElement(G,null),document.getElementById("root"))},60:function(e,a,t){}},[[102,1,2]]]);
//# sourceMappingURL=main.01fac4dd.chunk.js.map